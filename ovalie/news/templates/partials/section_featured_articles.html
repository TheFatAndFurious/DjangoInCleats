{% load static %}
<div>
    {% include 'partials/section_title.html' with title="La selection littéraire" subtitle="Une selection raffinée de la prose des plus grands écrivains du sport" %}

    <!--CAROUSEL THAT IS ONLY ACTIVE UNTIL WE REACH MD BREAKPOINT-->
    <div class="carousel carousel-center bg-neutral rounded-box max-w-md space-x-4 p-4 md:hidden">
        {% for article in featured_articles %}
        <div class="carousel-item relative">
            <!-- Image with opacity -->
            <a href="{{article.link}}">
            <img
              src="{% if article.image %}{{ article.image.url }}{% elif article.keywords.first.image %}{{ article.keywords.first.image.url }}{% else %}{% static 'images/fallback.jpg' %}{% endif %}"
              class="rounded-box w-72 h-64 object-cover opacity-30 " />

            <!-- Title overlay -->
            <div class="absolute inset-0 flex items-center justify-center">
                <div class="text-white text-center px-4 py-2 rounded">
                    {{ article.title }}
                </div>
            </div>
                </a>
        </div>
        {% endfor %}
    </div>

    <!-- SECTION ONLY VISIBLE AT THE MD BREAKPOINT -->
    <div class="hidden md:flex flex-col">
    {% for article in featured_articles %}
    <div class="relative flex justify-center my-2">
        <!-- Image with opacity -->
        <a href="{{ article.link }}" class="relative">
            <img
              src="{% if article.image %}{{ article.image.url }}{% elif article.keywords.first.image %}{{ article.keywords.first.image.url }}{% else %}{% static 'images/fallback.jpg' %}{% endif %}"
              class="rounded-box w-80 h-64 object-cover opacity-30" />

            <!-- Title overlay -->
            <div class="absolute inset-0 flex items-center justify-center">
                <div class="text-white text-center font-semibold bg-black bg-opacity-50 px-4 py-2 rounded">
                    {{ article.title }}
                </div>
            </div>
        </a>
    </div>
    {% endfor %}
</div>

</div>
