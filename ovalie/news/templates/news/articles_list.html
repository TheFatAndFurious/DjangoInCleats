{% load static tailwind_tags %}
<!DOCTYPE html>
<html>
<head>
    <title>Rugby News Aggregator</title>
       {% tailwind_css %}
</head>
<body>

<header class="sticky top-0 z-50">
    <div class="navbar bg-base-300">
            <h1 class="text-4xl text-green-500 text-center">Rugby news</h1>
    </div>
</header>

    <div class="hero bg-base-200 h-1/2">
      <div class="hero-content flex-col lg:flex-row">
        <div>
          <h1 class="text-5xl font-bold">Bienvenue!</h1>
          <p class="py-6">
            Ovalie News : votre terrain d’information rugbystique.
            Explorez chaque jour le meilleur de l'actualité rugby : clubs, équipes nationales, moments forts et coulisses du jeu.
            Ici, on vit rugby, on respire rugby, et on partage la passion avec vous !
          </p>
        </div>
      </div>
    </div>

<!--  FEATURED ARTICLES ZONE-->
<section class="flex items-center justify-center">
  <div class="flex flex-col items-center space-y-6 mx-auto text-center">
    <h2 class="text-2xl font-bold mb-4">
      A NE PAS MANQUER
    </h2>

    <div class="flex">
      {% for article in featured_articles %}
      <div class="card bg-base-100 image-full w-72 shadow-xl m-2">
  <figure>
    <img
      src="{{article.image}}"
      alt="{{article.title}}" />
  </figure>
  <div class="card-body">
    <p>{{article.title}}</p>
  </div>
</div>
      {% endfor %}
    </div>
  </div>
</section>




<div class="flex justify-center items-center overflow-x-auto w-2/3 mx-auto" id="articles">
  <table class="table">
    <!-- head -->
    <thead>
      <tr>
        <th>Site</th>
        <th>Titre</th>
        <th>Publication</th>
      </tr>
    </thead>
    <tbody>
      <!-- row 1 -->
      {% for article in page_obj %}
      <tr>
        <td><img src="{{ article.logo }}" class="h-4 w-4"></td>
        <td><a href="{{ article.link }}" target="_blank" rel="noopener noreferrer">
                {{ article.title }}
            </a>
        </td>
        <td>Published: {{ article.published_at|date:"Y-m-d H:i" }}</td>
      </tr>
        {% endfor %}
    </tbody>
  </table>

  <!-- Pagination Controls -->
</div>
<div class="pagination flex justify-center">
  {% if page_obj.has_previous %}
  <a href="?page=1">&laquo; First</a>
  <a href="?page={{ page_obj.previous_page_number }}">Previous</a>
  {% endif %}

  <span>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>

  {% if page_obj.has_next %}
  <a href="?page={{ page_obj.next_page_number }}#articles">Next</a>
  <a href="?page={{ page_obj.paginator.num_pages }}#articles">Last &raquo;</a>
  {% endif %}
</div>

</body>
</html>
